---
layout: post
title: "ETW tracing and command line tools(Logman.exe, TraceRpt.exe) "
slug: "etw-tracing-and-command-line-toolslogman-exe-tracerpt-exe"
---

 
   <p class="meta"><span class="sep">Posted on </span><a href="http://gtrifonov.com/" title="View all posts by admin" rel="author">admin</a></span></span></p>
            <p>Hi, I hope this page will help to find the answer how logman and tracerpt tools is used to process ETW logs.<br>You can find general information about ETW usage visiting <a href="http://msdn2.microsoft.com/en-us/magazine/cc163437.aspx#S4</a>
</p><p>Usage:<br>tracerpt.exe { &lt;filename [filename &#x2026;]&gt; | -rt &lt;session_name [session_name &#x2026;]&gt; } [options]
</p><p>Parameters:<br>&#xA0; &lt;filename [filename &#x2026;]&gt;&#xA0;&#xA0;&#xA0;&#xA0; Event Trace log file to process.
</p><p>Options:<br>&#xA0; -?&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Displays context sensitive help.<br>&#xA0; -o [filename]&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Text (CSV) output file. Default is dumpfile.csv.<br>&#xA0; -summary [filename]&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Summary report text file (CSV) file. Default is summary.txt.<br>&#xA0; -report [filename]&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Text output report file. Default is workload.txt.<br>&#xA0; -rt &lt;session_name [session_name &#x2026;]&gt;&#xA0;&#xA0; Real-time Event Trace Session data source.<br>&#xA0; -config &lt;filename&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Settings file containing command options.<br>&#xA0; -y&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Answer yes to all questions without prompting.<br>&#xA0; -f &lt;XML|TXT|HTML&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Report format.
</p><p>Examples:<br>&#xA0; tracerpt logfile1.etl logfile2.etl -o -report<br>&#xA0; tracerpt logfile.etl -o logdmp.csv -summary logdmp.txt -report logrpt.txt<br>&#xA0; tracerpt -rt EVENT_SESSION_1 EVENT_SESSION_2 -o logfile.csv
</p><p>&#xA0;
</p><p>Logman manages the &#x201C;Performance Logs and Alerts&#x201D; service for creating and managing Event Trace Session logs and<br>Performance logs.
</p><p>Usage:<br>logman VERB &lt;collection_name&gt; [options]
</p><p>Verbs:<br>&#xA0; create &lt;counter|trace&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Create a new collection.<br>&#xA0; start&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Start an existing collection and set the begin time to manual.<br>&#xA0; stop&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Stop an existing collection and set the end time to manual.<br>&#xA0; delete&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Delete an existing collection.<br>&#xA0; query [collection_name|providers]&#xA0; Query collection properties. If no collection_name is given all collections are<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; listed. The keyword &#x2018;providers&#x2019; will list all of the registered Event Trace providers.<br>&#xA0; update&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Update an existing collection properties.
</p><p>Parameters:<br>&#xA0; &lt;collection_name&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Name of the collection.
</p><p>Options:<br>&#xA0; -?&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Displays context sensitive help.<br>&#xA0; -s &lt;computer&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Perform the command on specified remote system.<br>&#xA0; -config &lt;filename&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Settings file containing command options.<br>&#xA0; -b &lt;M/d/yyyy h:mm:ss[AM|PM]&gt;&#xA0; Begin the collection at specified time.<br>&#xA0; -e &lt;M/d/yyyy h:mm:ss[AM|PM]&gt;&#xA0; End the collection at specified time.<br>&#xA0; -m &lt;[start] [stop]&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Change to manual start or stop rather than a scheduled begin or end time.<br>&#xA0; -[-]r&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Repeat the collection daily at the specified begin and end times.<br>&#xA0; -o &lt;path|dsn!log&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Path of the output log file or the DSN and log set name in a SQL database.<br>&#xA0; -f &lt;bin|bincirc|csv|tsv|sql&gt;&#xA0; Specifies the log format for the collection.<br>&#xA0; -[-]a&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Append to an existing log file.<br>&#xA0; -[-]v [nnnnnn|mmddhhmm]&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Attach file versioning information to the end of the log name.<br>&#xA0; -[-]rc &lt;filename&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Run the command specified each time the log is closed.<br>&#xA0; -[-]max &lt;value&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Maximum log file size in MB or number of records for SQL logs.<br>&#xA0; -[-]cnf [[[hh:]mm:]ss]&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Create a new file when the specified time has elapsed or when the max size is exceeded.<br>&#xA0; -c &lt;path [path &#x2026;]&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Performance counters to collect.<br>&#xA0; -cf &lt;filename&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; File listing performance counters to collect, one per line.<br>&#xA0; -si &lt;[[hh:]mm:]ss&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Sample interval for performance counter collections.<br>&#xA0; -ln &lt;logger_name&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Logger name for Event Trace Sessions.<br>&#xA0; -[-]rt&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Run the Event Trace Session in real-time mode.<br>&#xA0; -p &lt;provider [flags [level]]&gt; A single Event Trace provider to enable.<br>&#xA0; -pf &lt;filename&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; File listing multiple Event Trace providers to enable.<br>&#xA0; -[-]ul&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Run the Event Trace Session in user mode.<br>&#xA0; -bs &lt;value&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Event Trace Session buffer size in kb.<br>&#xA0; -ft &lt;[[hh:]mm:]ss&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Event Trace Session flush timer.<br>&#xA0; -nb &lt;min max&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Number of Event Trace Session buffers.<br>&#xA0; -fd&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Flushes all the active buffers of an existing Event Trace Session to disk.<br>&#xA0; -[-]u [user [password]]&#xA0;&amp;nbs<br>
p;&#xA0;&#xA0;&#xA0;&#xA0; User to Run As. Entering a * for the password produces a prompt for the password. The<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; password is not displayed when you type it at the password prompt.<br>&#xA0; -rf &lt;[[hh:]mm:]ss&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Run the collection for specified period of time.<br>&#xA0; -y&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Answer yes to all questions without prompting.<br>&#xA0; -ets&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Send commands to Event Trace Sessions directly without saving or scheduling.<br>&#xA0; -mode &lt;trace_mode [trace_mode &#x2026;]&gt;&#xA0;&#xA0; Event Trace Session logger mode.<br>&#xA0; -ct &lt;perf|system|cycle&gt;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Event Trace Session clock type.
</p><p>Note:<br>&#xA0; Where [-] is listed, an extra &#x2013; negates the option.<br>&#xA0; For example &#x2013;r turns off the -r option.
</p><p>Examples:<br>&#xA0; logman create counter perf_log -c &#x201C;\Processor(_Total)\% Processor Time&#x201D;<br>&#xA0; logman create trace trace_log -nb 16 256 -bs 64 -o c:\logfile<br>&#xA0; logman start perf_log<br>&#xA0; logman update perf_log -si 10 -f csv -v mmddhhmm<br>&#xA0; logman update trace_log -p &#x201C;Windows Kernel Trace&#x201D; (disk,net)</p>
<div style="float: right; margin-left: 10px;"><a href="http://platform.twitter.com/widgets.js"></script></div>            <hr>
 
